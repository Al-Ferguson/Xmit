package com.bytezone.xmit;

import java.io.File;
import java.io.IOException;
import java.nio.file.Files;
import java.util.ArrayList;
import java.util.List;

// ---------------------------------------------------------------------------------//
public abstract class Reader
// ---------------------------------------------------------------------------------//
{
  final String fileName;
  private final int level;
  boolean incomplete;
  final List<Dataset> datasets = new ArrayList<> ();

  // ---------------------------------------------------------------------------------//
  public Reader (String fileName, int level)
  // ---------------------------------------------------------------------------------//
  {
    this.fileName = fileName;
    this.level = level;
  }

  // ---------------------------------------------------------------------------------//
  public boolean isIncomplete ()
  // ---------------------------------------------------------------------------------//
  {
    return incomplete;
  }

  // ---------------------------------------------------------------------------------//
  public String getName ()
  // ---------------------------------------------------------------------------------//
  {
    return fileName;
  }

  // ---------------------------------------------------------------------------------//
  public abstract String getDisplayName ();
  // ---------------------------------------------------------------------------------//

  // ---------------------------------------------------------------------------------//
  public int getLevel ()
  // ---------------------------------------------------------------------------------//
  {
    return level;
  }

  // ---------------------------------------------------------------------------------//
  public int size ()
  // ---------------------------------------------------------------------------------//
  {
    return datasets.size ();
  }

  // ---------------------------------------------------------------------------------//
  public List<Dataset> getDatasets ()
  // ---------------------------------------------------------------------------------//
  {
    return datasets;
  }

  // ---------------------------------------------------------------------------------//
  static byte[] readFile (File file)
  // ---------------------------------------------------------------------------------//
  {
    try
    {
      return Files.readAllBytes (file.toPath ());
    }
    catch (IOException e)
    {
      e.printStackTrace ();
      return null;
    }
  }
}
